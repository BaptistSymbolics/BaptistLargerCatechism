\documentclass[12pt,article]{article}
\usepackage{geometry}
\geometry{margin=1in}
\usepackage{hyperref}
\hypersetup{colorlinks=true,linkcolor=blue,urlcolor=blue}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{fontspec}
\usepackage{needspace}
\usepackage{multicol}
\usepackage{etoolbox}
\usepackage{xparse}

\setmainfont[
  Path=./fonts/,
  UprightFont = EBGaramond12-Regular.otf,
  ItalicFont  = EBGaramond12-Italic.otf
]{EB Garamond}
\usepackage{setspace}
\onehalfspacing

% Define \tightlist command used by pandoc
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Remove section numbering
\setcounter{secnumdepth}{0}

% Custom command for verse references that wraps to 2 columns if references contain more than X semicolons
\newcounter{tempcount}
\NewDocumentCommand{\verserefs}{m}{%
  \setcounter{tempcount}{0}%
  \foreach \x in {#1}{\ifx\x;\stepcounter{tempcount}\fi}%
  \ifnum\value{tempcount}>10
    \begin{multicols}{2}
      \small #1
    \end{multicols}
  \else
    \small #1
  \fi
}

% Format section headings (questions) and prevent page breaks
\titleformat{\section}{\needspace{4\baselineskip}\LARGE\bfseries\color[RGB]{231, 76, 60}}{\thesection}{1em}{}
\titlespacing{\section}{0pt}{*2}{*0.5}
\titleformat{\subsection}{\Large\bfseries\color{black}}{\thesubsection}{1em}{}

% Prevent page breaks within questions
\let\oldsection\section
\newcommand{\closesectionsamepage}{\ifhmode\end{samepage}\fi}
\renewcommand{\section}[1]{%
  \closesectionsamepage
  \begin{samepage}%
  \oldsection{#1}%
  }

% Setup page headers and footers
\pagestyle{fancy}
\fancyhead[R]{The Baptist Larger Catechism}
\fancyhead[L]{\thepage}
\fancyfoot{}

\begin{document}

\title{The Baptist Larger Catechism}
\maketitle
\tableofcontents
\newpage

$body$

% Close final samepage environment
\closesectionsamepage

\end{document}